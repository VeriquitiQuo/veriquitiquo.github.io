{{ $location := .Get 0 }}
{{ $slides := ( $.Page.Resources.Match $location ) }}
{{ $id := .Get "id" | default "carousel" }}

<div class="carousel-wrapper">
    {{ with .Get "title" }}
    <div class="title">
        <h4>{{ . }}</h4>
    </div>
    {{ end }}
    <div class="row justify-content-center">
        <div class="col">
            <div id="{{ $id }}" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    {{ range $key, $value := $slides }}
                    {{ $active := "" }}
                    {{ if eq $key 0 }}
                    {{ $active = "active" }}
                    {{ end }}
                    <button type="button" data-bs-target="#{{ $id }}" data-bs-slide-to="{{ $key }}" class="{{ $active }}"></button>
                    {{ end }}
                </div>
                <div class="carousel-inner" role="listbox">
                    {{ range $key, $value := $slides }}
                    {{ $active := "" }}
                    {{ if eq $key 0 }}
                    {{ $active = "active" }}
                    {{ end }}
                    <div class="carousel-item {{ $active}} ">
                        <img class="d-block" src="{{ .RelPermalink }}" alt="{{ .Name }}">
<!--                            <div class="carousel-caption d-none d-md-block">-->
<!--                                <h5>{{ .Title }} </h5>-->
<!--                            </div>-->
                    </div>
                    {{ end }}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#{{ $id }}" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#{{ $id }}" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</div>
